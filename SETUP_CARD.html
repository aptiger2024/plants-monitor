<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plant Monitor Setup Card</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f5f5;
            padding: 20px;
        }

        .card {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            print-color-adjust: exact;
            -webkit-print-color-adjust: exact;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 18px;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 30px;
        }

        .section h2 {
            color: #667eea;
            font-size: 20px;
            margin-bottom: 15px;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }

        .qr-section {
            display: flex;
            gap: 30px;
            align-items: center;
            background: #f9f9f9;
            padding: 30px;
            border-radius: 12px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .qr-box {
            flex: 0 0 auto;
            text-align: center;
        }

        .qr-placeholder {
            width: 200px;
            height: 200px;
            background: white;
            border: 3px solid #667eea;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
        }

        .qr-text {
            font-size: 12px;
            color: #666;
            margin-top: 10px;
        }

        .instructions-box {
            flex: 1;
            min-width: 300px;
        }

        .instructions-box ol {
            margin-left: 20px;
        }

        .instructions-box li {
            margin-bottom: 12px;
            font-size: 15px;
            line-height: 1.6;
        }

        .url-box {
            background: #e8f4f8;
            padding: 15px;
            border-left: 4px solid #0288d1;
            border-radius: 4px;
            margin: 20px 0;
            font-family: monospace;
            font-size: 14px;
            word-break: break-all;
            color: #0288d1;
        }

        .highlight-box {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }

        .highlight-box strong {
            color: #ff6b6b;
        }

        .details {
            background: #f0f4ff;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
            margin: 20px 0;
        }

        .details h3 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .details p {
            font-size: 14px;
            line-height: 1.6;
            color: #555;
        }

        .hotspot-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .info-card {
            background: white;
            border: 2px solid #667eea;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }

        .info-card strong {
            display: block;
            color: #667eea;
            font-size: 12px;
            text-transform: uppercase;
            margin-bottom: 8px;
        }

        .info-card .value {
            font-family: monospace;
            font-size: 16px;
            font-weight: bold;
            color: #333;
        }

        .emoji {
            font-size: 28px;
            margin-bottom: 10px;
        }

        .footer {
            background: #f5f5f5;
            padding: 20px 40px;
            text-align: center;
            font-size: 12px;
            color: #666;
            border-top: 1px solid #eee;
        }

        .page-break {
            page-break-after: always;
            margin: 40px 0;
        }

        @media print {
            body {
                background: white;
            }
            .card {
                box-shadow: none;
                border-radius: 0;
            }
        }

        .wifi-password {
            font-family: monospace;
            background: #f0f0f0;
            padding: 8px 12px;
            border-radius: 4px;
            font-size: 14px;
            font-weight: bold;
        }

        .checklist {
            list-style: none;
            margin: 15px 0;
        }

        .checklist li {
            padding: 8px;
            margin-bottom: 8px;
            background: #f9f9f9;
            border-radius: 4px;
            border-left: 4px solid #667eea;
        }

        .checklist li::before {
            content: "‚òê ";
            color: #667eea;
            font-weight: bold;
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <div class="card">
        <div class="header">
            <h1>üå± Plant Monitor</h1>
            <p>Quick Start Setup Guide</p>
        </div>

        <div class="content">
            <!-- What You'll Need -->
            <div class="section">
                <h2>üìã What You'll Need</h2>
                <ul class="checklist">
                    <li>Your Plant Monitor device</li>
                    <li>USB-C power adapter</li>
                    <li>Your home WiFi name & password</li>
                    <li>Smartphone or computer with WiFi</li>
                </ul>
            </div>

            <!-- Quick Setup -->
            <div class="section">
                <h2>‚ö° Quick Setup (5 Minutes)</h2>

                <div class="qr-section">
                    <div class="instructions-box">
                        <ol>
                            <li><strong>Power on</strong> your Plant Monitor with USB-C</li>
                            <li><strong>Look for</strong> "Plant-Monitor Fallback" WiFi</li>
                            <li><strong>Connect</strong> your phone to that network</li>
                            <li><strong>Open browser</strong> and go to: http://192.168.4.1</li>
                            <li><strong>Fill in your info</strong> (name, plant names, location)</li>
                            <li><strong>Click "Complete Setup"</strong></li>
                            <li><strong>Done!</strong> Device connects automatically</li>
                        </ol>
                    </div>
                </div>
            </div>

            <!-- Hotspot Info -->
            <div class="section">
                <h2>üì° Hotspot Details</h2>
                <div class="hotspot-info">
                    <div class="info-card">
                        <div class="emoji">üì∂</div>
                        <strong>Network Name</strong>
                        <div class="value">Plant-Monitor<br>Fallback</div>
                    </div>
                    <div class="info-card">
                        <div class="emoji">üîê</div>
                        <strong>Password</strong>
                        <div class="wifi-password">ND9kIKauNGyJ</div>
                    </div>
                </div>
            </div>

            <!-- Setup URL -->
            <div class="section">
                <h2>üåê Setup Page URL</h2>
                <div class="url-box">http://192.168.4.1</div>
                <p style="font-size: 13px; color: #666; margin-top: 10px;">
                    This URL is only accessible when connected to the "Plant-Monitor Fallback" WiFi hotspot
                </p>
            </div>

            <!-- Dashboard -->
            <div class="section">
                <h2>üìä View Your Plants</h2>
                <p style="margin-bottom: 15px;">Once setup is complete, monitor your plants at:</p>
                <div class="url-box">http://plants.suplexcentral.com</div>
            </div>

            <!-- Important Notes -->
            <div class="highlight-box">
                <strong>‚ö†Ô∏è Important:</strong> The "Plant-Monitor Fallback" network is <strong>only for initial setup</strong>. It does NOT have internet. Once setup completes, your device will automatically connect to your home WiFi and send real data to plants.suplexcentral.com.
            </div>

            <!-- Troubleshooting -->
            <div class="section">
                <h2>üîß Troubleshooting</h2>

                <div class="details">
                    <h3>‚ùå Device hotspot not showing?</h3>
                    <p>Make sure device is powered on and try clicking "Refresh" on WiFi settings. If still not visible, unplug for 10 seconds and plug back in.</p>
                </div>

                <div class="details">
                    <h3>‚ùå Can't access http://192.168.4.1?</h3>
                    <p>Verify you're connected to "Plant-Monitor Fallback" WiFi. Try a different browser and make sure you're typing "http://" (not "https://").</p>
                </div>

                <div class="details">
                    <h3>‚ùå Device won't connect to my WiFi?</h3>
                    <p>Double-check your WiFi password and network name. Make sure your WiFi doesn't use special characters. Try setup again if needed.</p>
                </div>
            </div>

            <!-- Tech Specs -->
            <div class="details">
                <h3>üìã Technical Details</h3>
                <p>
                    <strong>Device ID:</strong> plant-monitor-[name] (e.g., plant-monitor-laurie)<br>
                    <strong>Firmware:</strong> ESPHome 2025.11.0<br>
                    <strong>Sensors:</strong> Capacitive moisture sensors on GPIO34 & GPIO35<br>
                    <strong>Update Interval:</strong> 60 seconds (sensors), 10 minutes (cloud upload)<br>
                    <strong>Power:</strong> 5V USB-C with TP4056 charging module
                </p>
            </div>
        </div>

        <div class="footer">
            Plant Monitor Setup Card | For questions, contact the person who gave you this device
        </div>
    </div>

    <script>
        // Generate QR code using qrcode.js library if available
        document.addEventListener('DOMContentLoaded', function() {
            // Try to generate QR code using an external service
            const setupUrl = 'http://192.168.4.1';
            const qrApiUrl = `https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(setupUrl)}`;

            const qrBox = document.querySelector('.qr-placeholder');
            if (qrBox && qrBox.innerHTML.includes('üì±')) {
                // Replace placeholder with actual QR code if available
                const img = document.createElement('img');
                img.src = qrApiUrl;
                img.style.width = '200px';
                img.style.height = '200px';
                img.style.borderRadius = '8px';
                img.alt = 'QR Code for setup';
                img.onerror = function() {
                    // Fallback if QR code generation fails
                    qrBox.innerHTML = 'üì±<br><small style="font-size: 12px; color: #999;">QR Code<br>Generation</small>';
                };
                qrBox.innerHTML = '';
                qrBox.appendChild(img);
            }
        });
    </script>
</body>
</html>
